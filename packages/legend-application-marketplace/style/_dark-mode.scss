/**
 * Copyright (c) 2020-present, Goldman Sachs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.theme__hc-dark {
  // Override theme-agnostic variables for dark mode
  --marketplace-bg-primary: var(--marketplace-bg-primary);
  --marketplace-bg-secondary: var(--marketplace-bg-secondary);
  --marketplace-bg-elevated: var(--marketplace-bg-elevated);
  --marketplace-text-primary: var(--marketplace-text-primary);
  --marketplace-text-secondary: var(--marketplace-text-secondary);
  --marketplace-text-muted: var(--marketplace-text-muted);
  --marketplace-link-color: var(--marketplace-link-color);
  --marketplace-info-bg: var(--marketplace-bg-elevated);
  --marketplace-info-text: var(--marketplace-text-primary);

  // Search chip colors for dark mode
  --color-search-chip-source-bg: rgb(115 153 198 / 20%);
  --color-search-chip-source-text: var(--marketplace-link-color);
  --color-search-chip-license-bg: rgb(115 153 198 / 20%);
  --color-search-chip-license-text: var(--marketplace-link-color);

  ::-webkit-scrollbar-thumb {
    background: var(--marketplace-border-light-color);
    border: 0.2rem solid transparent;
    background-clip: content-box;
    border-radius: 0.4rem;
  }

  ::-webkit-scrollbar-track-piece {
    background: var(--marketplace-bg-secondary);
  }

  .btn--dark {
    background: var(--marketplace-bg-elevated);
    color: var(--marketplace-text-primary);
  }

  .btn--dark:hover {
    background: var(--marketplace-border-light-color);
  }

  .btn--dark.btn--caution {
    background: var(--color-legacylight-orange-150);
    color: var(--color-white);
  }

  .btn--dark.btn--caution:hover {
    background: var(--color-legacylight-orange-100);
  }

  // Header
  .legend-marketplace-page {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__header {
      background: var(--marketplace-bg-secondary);
      border-bottom: 1px solid var(--marketplace-border-color);
      color: var(--marketplace-text-primary);
    }
  }

  .legend-marketplace-header {
    background: var(--marketplace-bg-secondary);
    box-shadow: 0 2px 8px rgb(0 0 0 / 40%);

    &__container {
      background: var(--marketplace-bg-secondary);
    }

    &__name {
      color: var(--marketplace-text-primary);
    }

    &__menu__icon {
      color: var(--marketplace-text-primary);

      svg {
        color: var(--marketplace-text-primary);
      }
    }

    &__tab {
      color: var(--marketplace-text-secondary);

      &:hover {
        background-color: rgb(255 255 255 / 10%);
      }

      &--selected {
        color: var(--marketplace-text-primary);

        &::before {
          background: var(--marketplace-link-color);
        }
      }
    }

    &__icon {
      color: var(--marketplace-text-primary);
    }

    &__contract__count {
      color: var(--marketplace-text-primary);
    }

    &__task__badge__avatar,
    &__task__badge__menu__item {
      background: var(--color-red-180) !important;
      color: var(--marketplace-text-primary) !important;
    }

    // Theme toggle color overrides only
    &__theme-toggle {
      background-color: rgb(255 255 255 / 10%);

      &:hover {
        background-color: rgb(255 255 255 / 15%);
      }

      // Tooltip color overrides
      &::after {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
        border-color: var(--marketplace-border-light-color);
      }

      &::before {
        border-bottom-color: var(--marketplace-bg-elevated);
      }
    }
  }

  // MUI Menu styling for header dropdowns
  .MuiMenu-paper {
    background: var(--marketplace-bg-elevated) !important;
    color: var(--marketplace-text-primary) !important;
    border: 1px solid var(--marketplace-border-color) !important;
    box-shadow: 0 4px 20px rgb(0 0 0 / 60%) !important;
  }

  .MuiMenu-list,
  .MuiList-root {
    background: var(--marketplace-bg-elevated) !important;
    color: var(--marketplace-text-primary) !important;
  }

  .MuiMenuItem-root {
    color: var(--marketplace-text-primary) !important;
    font-size: 1.6rem !important;

    &:hover {
      background: var(--marketplace-bg-tertiary) !important;
    }

    a,
    a:visited {
      color: inherit !important;
      text-decoration: none;
    }

    .MuiLink-root {
      color: var(--marketplace-link-color) !important;

      &:hover {
        color: var(--marketplace-link-hover-color) !important;
      }
    }

    .MuiBox-root {
      color: var(--marketplace-text-primary) !important;

      a,
      .MuiLink-root {
        color: var(--marketplace-link-color) !important;

        &:hover {
          color: var(--marketplace-link-hover-color) !important;
        }
      }
    }
  }

  .menu {
    background: var(--marketplace-bg-secondary);
    border-color: var(--marketplace-border-color);

    &__item {
      color: var(--marketplace-text-secondary);
      font-size: 1.6rem;

      &:hover {
        background: var(--marketplace-bg-tertiary);
      }

      &:not([disabled]):hover {
        background: var(--marketplace-bg-tertiary);
      }

      &[disabled] {
        color: var(--marketplace-text-muted);
      }
    }
  }

  // Your Orders Page
  .legend-marketplace-your-orders {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__header {
      color: var(--marketplace-text-primary);
    }

    &__header-section {
      color: var(--marketplace-text-primary);

      h1 {
        color: var(--marketplace-text-primary);
      }
    }

    &__content {
      background: var(--marketplace-bg-primary);
    }
  }

  .orders-tabs {
    border-bottom: 1px solid var(--marketplace-border-color);

    .MuiTab-root {
      color: var(--marketplace-text-muted);

      &.Mui-selected {
        color: var(--marketplace-link-color);
      }
    }

    .MuiTabs-indicator {
      background-color: var(--marketplace-link-color);
    }
  }

  .orders-loading {
    color: var(--marketplace-text-secondary);

    .loading-text {
      color: var(--marketplace-text-secondary);
    }
  }

  .orders-empty {
    background-color: var(--marketplace-bg-secondary);
    border: 1px dashed var(--marketplace-border-color);
    color: var(--marketplace-text-primary);

    .empty-title {
      color: var(--marketplace-text-primary);
    }

    .empty-description {
      color: var(--marketplace-text-muted);
    }
  }

  .orders-table-container {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color) !important;

    .MuiTable-root {
      background: var(--marketplace-bg-secondary);

      thead {
        background: var(--marketplace-bg-tertiary);
        border-bottom: 1px solid var(--marketplace-border-color);

        th {
          color: var(--marketplace-text-primary);
          background: var(--marketplace-bg-tertiary);
          border-bottom: 1px solid var(--marketplace-border-color);
        }
      }

      tbody {
        tr {
          background: var(--marketplace-bg-secondary);
          border-bottom: 1px solid var(--marketplace-border-color);

          &:hover {
            background: var(--marketplace-bg-tertiary);
          }

          td {
            color: var(--marketplace-text-secondary);
            border-bottom: 1px solid var(--marketplace-border-color);
          }
        }
      }
    }
  }

  .order-details {
    background-color: var(--marketplace-bg-tertiary);
    border: 1px solid var(--marketplace-border-color);

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__items-table {
      background: var(--marketplace-bg-secondary);
      border: 1px solid var(--marketplace-border-color);

      thead {
        background: var(--marketplace-bg-elevated);

        th {
          color: var(--marketplace-text-primary);
          background: var(--marketplace-bg-elevated);
          border-bottom: 1px solid var(--marketplace-border-color);
        }
      }

      tbody {
        td {
          color: var(--marketplace-text-secondary);
          border-bottom: 1px solid var(--marketplace-border-color);
        }
      }
    }

    &__product-name {
      color: var(--marketplace-text-primary);
    }

    &__provider-name {
      color: var(--marketplace-text-muted);
    }

    &__price {
      color: var(--marketplace-text-primary);
    }
  }

  // Vendor Data Page
  .legend-marketplace-vendor-data {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__content {
      background: var(--marketplace-bg-primary);
    }
  }

  .legend-marketplace-banner {
    background: var(--marketplace-bg-secondary);
    color: var(--marketplace-text-primary);

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__subtitle {
      color: var(--marketplace-text-primary);
    }
  }

  .legend-marketplace-vendordata-main {
    &__loading {
      background: var(--marketplace-bg-primary);
      color: var(--marketplace-text-primary);
    }

    &-sidebar {
      background: var(--marketplace-bg-secondary);
      border-right: 1px solid var(--marketplace-border-color);

      &__title {
        color: var(--marketplace-text-primary);

        &__count {
          color: var(--marketplace-link-color);
          background: var(--marketplace-bg-elevated);
        }
      }

      &__subtitle {
        color: var(--marketplace-text-secondary);
      }
    }

    &-search-results {
      background: var(--marketplace-bg-primary);

      &__category {
        .see-all {
          color: var(--marketplace-link-color);
        }
      }
    }
  }

  // Cards
  .legend-marketplace-card {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);
    color: var(--marketplace-text-primary);
    box-shadow: 0 4px 12px rgb(0 0 0 / 40%);

    &:hover {
      background: var(--marketplace-bg-tertiary);
      border-color: var(--marketplace-link-color);
      box-shadow: 0 8px 20px rgb(0 0 0 / 60%);
    }

    &--with-icon {
      background-color: var(--marketplace-brand-secondary-color);
    }

    &__content {
      color: var(--marketplace-text-primary);
    }

    &__content-container {
      color: var(--marketplace-text-primary);
    }

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__description {
      color: var(--marketplace-text-muted);
    }

    &__price {
      color: var(--marketplace-text-primary);
    }

    &__more-info {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);

      &__content {
        color: var(--marketplace-text-secondary);
      }
    }
  }

  .legend-marketplace-vendor-card {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);

    &:hover {
      background: var(--marketplace-bg-tertiary);
    }

    &__type {
      &--vendor {
        background: rgb(115 153 198 / 20%);
        color: var(--marketplace-link-color);
      }

      &--curated {
        background: rgb(168 85 247 / 20%);
        color: var(--color-modal-purple-light);
      }
    }

    &__name {
      color: var(--marketplace-text-primary);
    }

    &__description {
      color: var(--marketplace-text-muted);
    }
  }

  .legend-marketplace-vendor-data-card {
    &__vendor-name {
      color: var(--marketplace-text-primary);

      &__description {
        color: var(--marketplace-text-secondary);
      }

      &__owned {
        color: var(--color-dark-green-50);
      }
    }

    &__product-name {
      color: var(--marketplace-link-color);
    }

    &__add-to-cart-button {
      color: var(--marketplace-link-color);
      border-color: var(--marketplace-link-color);

      &:hover {
        background: rgb(115 153 198 / 10%);
      }
    }

    &__price {
      color: var(--marketplace-text-secondary);
    }
  }

  // Modals
  .MuiDialog-paper {
    background: var(--marketplace-bg-secondary);
    color: var(--marketplace-text-primary);
  }

  .legend-marketplace-cancel-order-dialog {
    .MuiDialogTitle-root {
      background: var(--marketplace-bg-tertiary);
      color: var(--marketplace-text-primary);
      border-bottom: 1px solid var(--marketplace-border-color);
    }

    .MuiDialogContent-root {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-secondary);
    }

    .MuiDialogActions-root {
      background: var(--marketplace-bg-tertiary);
      border-top: 1px solid var(--marketplace-border-color);
    }

    &__order-info {
      background: var(--marketplace-bg-tertiary);
      border: 1px solid var(--marketplace-border-color);
    }

    &__text-field {
      .MuiInputBase-root {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
      }

      .MuiInputLabel-root {
        color: var(--marketplace-text-muted);
      }

      .MuiFormHelperText-root {
        color: var(--marketplace-text-muted);
      }
    }
  }

  .recommended-addons-modal {
    .MuiDialog-paper {
      background: linear-gradient(
        145deg,
        var(--marketplace-bg-secondary) 0%,
        var(--marketplace-bg-tertiary) 100%
      );
      border: 1px solid var(--marketplace-border-color);
      box-shadow:
        0 32px 64px -12px rgb(0 0 0 / 60%),
        0 0 0 1px rgb(255 255 255 / 5%);
    }

    &__header {
      background: linear-gradient(
        135deg,
        rgb(34 197 94 / 8%) 0%,
        rgb(115 153 198 / 12%) 50%,
        rgb(168 85 247 / 8%) 100%
      );
      border-bottom: 1px solid var(--marketplace-border-color);

      &::before {
        background: linear-gradient(
          90deg,
          rgb(115 153 198 / 40%) 0%,
          rgb(168 85 247 / 40%) 100%
        );
      }
    }

    &__title {
      background: linear-gradient(
        135deg,
        var(--marketplace-text-primary) 0%,
        var(--marketplace-text-secondary) 100%
      );
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    &__subtitle {
      color: var(--marketplace-text-muted);
    }

    &__close-btn {
      color: var(--marketplace-text-muted);
      background: rgb(148 163 184 / 10%);

      &:hover {
        color: var(--marketplace-text-primary);
        background: rgb(148 163 184 / 20%);
      }
    }

    &__content {
      background: transparent;
      color: var(--marketplace-text-primary);
    }

    &__section-title {
      color: var(--marketplace-text-primary);
    }

    &__section-description {
      color: var(--marketplace-text-muted);
    }

    &__empty-state {
      .MuiTypography-root {
        color: var(--marketplace-text-muted);
      }
    }

    &__recommendation-card {
      background: var(--marketplace-bg-elevated);
      border: 1px solid var(--marketplace-border-color);

      &:hover {
        background: var(--marketplace-bg-tertiary);
        border-color: var(--marketplace-link-color);
      }
    }

    &__success-icon {
      color: var(--color-dark-green-50);
    }

    &__warning-icon {
      color: var(--color-dark-yellow-40);
    }
  }

  // Cart
  .legend-marketplace-cart-drawer {
    background: var(--marketplace-bg-secondary);
    color: var(--marketplace-text-primary);

    .MuiDrawer-paper {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
    }

    &__header {
      background: linear-gradient(
        135deg,
        var(--marketplace-link-hover-color) 0%,
        var(--marketplace-brand-secondary-color) 100%
      );
      box-shadow: 0 4px 20px rgb(0 0 0 / 40%);

      &::after {
        background: linear-gradient(
          90deg,
          transparent,
          rgb(255 255 255 / 10%),
          transparent
        );
      }

      button {
        color: var(--marketplace-text-primary);

        &:hover {
          background: rgb(255 255 255 / 10%);
        }
      }
    }

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__section {
      background: var(--marketplace-bg-secondary);
      border-bottom: 1px solid var(--marketplace-border-color);

      .MuiFormControl-root {
        .MuiOutlinedInput-root {
          background: var(--marketplace-bg-elevated);
          color: var(--marketplace-text-primary);

          &:hover {
            background: var(--marketplace-bg-tertiary);
          }

          &.Mui-focused {
            background: var(--marketplace-bg-secondary);
            box-shadow: 0 0 0 3px rgb(115 153 198 / 20%);
          }
        }
      }
    }

    &__business-reason {
      background: var(--marketplace-bg-secondary);
      border-bottom: 1px solid var(--marketplace-border-color);

      &__title {
        color: var(--marketplace-text-primary);
      }

      &__required {
        color: var(--marketplace-link-color);
      }

      &__select {
        .MuiOutlinedInput-root {
          background: var(--marketplace-bg-elevated);
          color: var(--marketplace-text-primary);

          &:hover {
            .MuiOutlinedInput-notchedOutline {
              border-color: var(--marketplace-link-color);
            }
          }

          &.Mui-focused {
            .MuiOutlinedInput-notchedOutline {
              border-color: var(--marketplace-link-color);
            }
          }

          .MuiSelect-select {
            color: var(--marketplace-text-primary);
          }
        }

        .MuiInputLabel-root {
          color: var(--marketplace-text-muted);
          background: var(--marketplace-bg-elevated);

          &.Mui-focused {
            color: var(--marketplace-link-color);
          }

          &.MuiInputLabel-shrink {
            background: var(--marketplace-bg-elevated);
          }
        }
      }

      &__note {
        color: var(--marketplace-text-muted);
      }
    }

    &__content {
      background: var(--marketplace-bg-primary);

      &::-webkit-scrollbar-thumb {
        background: var(--marketplace-border-light-color);

        &:hover {
          background: var(--marketplace-brand-secondary-color);
        }
      }
    }

    &__loading,
    &__empty {
      background: var(--marketplace-bg-secondary);
      border: 1px solid var(--marketplace-border-color);
      color: var(--marketplace-text-muted);

      .MuiCircularProgress-root {
        color: var(--marketplace-link-color);
      }

      .MuiTypography-root {
        color: var(--marketplace-text-muted);
      }
    }

    &__items {
      background: transparent;
    }

    &__item-card {
      background: var(--marketplace-bg-secondary);
      border: 1px solid var(--marketplace-border-color);
      box-shadow: 0 2px 16px rgb(0 0 0 / 40%);

      &:hover {
        border-color: var(--marketplace-link-color);
        box-shadow: 0 8px 32px rgb(0 0 0 / 60%);
      }

      &__header {
        background: linear-gradient(
          135deg,
          var(--marketplace-bg-tertiary) 0%,
          var(--marketplace-bg-elevated) 100%
        );
        border-bottom: 1px solid var(--marketplace-border-color);
      }

      &__name {
        color: var(--marketplace-text-primary);
      }

      &__provider {
        background: linear-gradient(
          135deg,
          var(--marketplace-link-hover-color) 0%,
          var(--marketplace-link-color) 100%
        );
        color: var(--marketplace-text-primary);
        box-shadow: 0 2px 8px rgb(115 153 198 / 40%);
      }

      &__remove-btn {
        background: rgb(239 68 68 / 20%);
        color: var(--color-dark-red-50);

        &:hover {
          background: rgb(239 68 68 / 30%);
        }
      }

      &__content {
        background: var(--marketplace-bg-secondary);
      }

      &__price {
        color: var(--marketplace-link-color);
        background: linear-gradient(
          135deg,
          var(--marketplace-link-color) 0%,
          var(--marketplace-link-hover-color) 100%
        );
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      &__price-suffix {
        color: var(--marketplace-text-muted);
      }

      &__category {
        background: linear-gradient(
          135deg,
          var(--marketplace-bg-elevated) 0%,
          var(--marketplace-bg-tertiary) 100%
        );

        span {
          color: var(--marketplace-text-secondary);
        }
      }
    }

    &__footer {
      background: var(--marketplace-bg-secondary);
      border-top: 1px solid var(--marketplace-border-color);
      box-shadow: 0 -4px 20px rgb(0 0 0 / 40%);
    }

    &__clear-button {
      background: linear-gradient(
        135deg,
        var(--marketplace-bg-tertiary) 0%,
        var(--marketplace-bg-elevated) 100%
      );
      color: var(--marketplace-text-primary);
      border: 2px solid var(--marketplace-border-color);

      &:hover:not(:disabled) {
        background: linear-gradient(
          135deg,
          var(--marketplace-bg-elevated) 0%,
          var(--marketplace-border-light-color) 100%
        );
        border-color: var(--marketplace-link-color);
        box-shadow: 0 4px 16px rgb(0 0 0 / 40%);
      }
    }

    &__order-button {
      background: linear-gradient(
        135deg,
        var(--marketplace-link-color) 0%,
        var(--marketplace-brand-secondary-color) 100%
      );
      color: var(--marketplace-text-primary);
      box-shadow: 0 4px 16px rgb(115 153 198 / 40%);

      &:hover:not(:disabled) {
        background: linear-gradient(
          135deg,
          var(--marketplace-brand-secondary-color) 0%,
          var(--marketplace-link-color) 100%
        );
        box-shadow: 0 8px 24px rgb(115 153 198 / 50%);
      }

      &:disabled {
        opacity: 0.5;
      }
    }
  }

  // Search
  .legend-marketplace-search-bar,
  .legend-marketplace__search-bar {
    .MuiInputBase-root {
      color: var(--marketplace-text-primary);
      border: 1px solid var(--marketplace-text-primary);

      &:hover {
        border-color: var(--marketplace-link-color);
      }
    }

    &__input {
      color: var(--marketplace-text-primary);
    }

    input {
      color: var(--marketplace-text-primary);

      &::placeholder {
        color: var(--marketplace-text-primary);
      }
    }

    // Search icon and settings icon
    .MuiIconButton-root {
      color: var(--marketplace-text-primary);

      svg {
        color: var(--marketplace-text-primary);
      }

      &:hover {
        color: var(--marketplace-link-color);

        svg {
          color: var(--marketplace-link-color);
        }
      }
    }

    // Input label
    .MuiInputLabel-root {
      color: var(--marketplace-text-primary);

      &.Mui-focused {
        color: var(--marketplace-link-color);
      }
    }
  }

  // Product Search Cards
  .product-search-card,
  .legend-marketplace-product-search-result-card {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);

    &:hover {
      background: var(--marketplace-bg-tertiary);
      border-color: var(--marketplace-link-color);
    }

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__description {
      color: var(--marketplace-text-muted);
    }

    &__data-product-name {
      color: var(--marketplace-link-color);
    }

    &__data-product-description {
      color: var(--marketplace-text-secondary);
    }
  }

  .lakehouse-data-product-card,
  .marketplace-lakehouse-data-product-card {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);

    &:hover {
      background: var(--marketplace-bg-tertiary);
    }

    &__name {
      color: var(--marketplace-text-primary);
    }

    &__description {
      color: var(--marketplace-text-muted);

      &__markdown {
        background: transparent;
        color: var(--marketplace-text-primary);
      }
    }

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__lakehouse {
      color: var(--color-dark-green-50);
      background: rgb(106 153 85 / 20%);
    }

    &__version {
      &--snapshot {
        color: var(--marketplace-link-color);
        background: rgb(115 153 198 / 20%);
      }

      &--release {
        color: var(--color-dark-green-50);
        background: rgb(106 153 85 / 20%);
      }
    }

    &__environment-classification {
      &--unknown {
        color: var(--marketplace-text-muted);
        background: var(--marketplace-bg-elevated);
      }

      &--dev {
        color: var(--color-dark-yellow-40);
        background: rgb(251 188 5 / 20%);
      }

      &--prod-parallel {
        color: var(--marketplace-link-color);
        background: rgb(115 153 198 / 20%);
      }

      &--prod {
        color: var(--color-dark-green-50);
        background: rgb(106 153 85 / 20%);
      }
    }

    &__data-product-source {
      color: var(--marketplace-link-color);
      background: rgb(115 153 198 / 20%);
    }

    &__license-to {
      color: var(--marketplace-link-color);
      background: rgb(115 153 198 / 20%);
    }

    &__more-info-btn {
      color: var(--marketplace-text-primary);

      &:hover,
      &--selected {
        color: var(--marketplace-link-color);
      }

      svg {
        color: var(--marketplace-text-primary);
      }
    }

    &__popover {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);

      &__name {
        color: var(--marketplace-text-primary);
      }

      &__content {
        color: var(--marketplace-text-primary);
      }

      &__section-header {
        color: var(--marketplace-text-muted);
      }

      &__section-content__markdown {
        color: var(--marketplace-text-primary);
      }

      &__table {
        td {
          color: var(--marketplace-text-primary);
        }
      }

      &__project-link {
        color: var(--marketplace-link-color);
      }
    }
  }

  // Coming Soon
  .legend-marketplace-coming-soon {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__content {
      background: var(--marketplace-bg-primary);
    }

    &__feature-item {
      background: var(--marketplace-bg-secondary);
      border: 1px solid var(--marketplace-border-color);

      &:hover {
        background: var(--marketplace-bg-tertiary);
        border-color: var(--marketplace-link-color);
      }
    }
  }

  .coming-soon-display {
    color: var(--marketplace-text-primary);

    &__content {
      background: rgb(26 26 26 / 95%);
      backdrop-filter: blur(2rem);
      border: 1px solid var(--marketplace-border-color);
      box-shadow: 0 2rem 4rem rgb(0 0 0 / 60%);
    }

    &__icon {
      color: var(--marketplace-link-color);
    }

    &__title {
      background: linear-gradient(
        135deg,
        var(--marketplace-link-color),
        var(--marketplace-link-hover-color)
      );
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    &__subtitle {
      color: var(--marketplace-text-secondary);
    }

    &__description {
      color: var(--marketplace-text-muted);
    }

    .features-preview {
      &__item {
        background: rgb(115 153 198 / 10%);
        border: 1px solid rgb(115 153 198 / 20%);

        &:hover {
          background: rgb(115 153 198 / 15%);
          box-shadow: 0 0.8rem 2rem rgb(115 153 198 / 30%);
        }

        &__icon {
          color: var(--marketplace-link-color);
        }

        &__title {
          color: var(--marketplace-text-primary);
        }

        &__text {
          color: var(--marketplace-text-primary);
        }
      }
    }
  }

  // Home
  .legend-marketplace-home {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__landing {
      color: var(--marketplace-text-primary);

      &__title {
        background: linear-gradient(
          135deg,
          var(--marketplace-link-color),
          var(--marketplace-link-hover-color)
        );
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      &__description {
        color: var(--marketplace-text-secondary);
      }
    }

    &__button {
      background: transparent;
      color: var(--marketplace-text-primary);
      border: 1px solid var(--marketplace-border-color);

      &:hover {
        background: linear-gradient(
          90deg,
          rgb(115 153 198 / 80%) 0%,
          rgb(91 127 163 / 80%) 100%
        );
        color: var(--marketplace-text-primary);
      }

      &__icon {
        color: var(--marketplace-text-primary);
      }
    }

    &__vendors {
      &-title {
        color: var(--marketplace-text-primary);
      }

      &-cards {
        background: var(--marketplace-bg-primary);
      }
    }
  }

  // Search Results
  .legend-marketplace-search-results {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__content {
      background: var(--marketplace-bg-primary);
    }

    &__search-bar {
      background: var(--marketplace-bg-primary);
    }

    &__results {
      &__cards {
        background: var(--marketplace-bg-primary);
      }
    }

    &__sort-bar {
      background-color: var(--marketplace-bg-secondary);
      border-bottom: 1px solid var(--marketplace-border-color);

      &__container {
        background-color: var(--marketplace-bg-secondary);
        color: var(--marketplace-text-primary);

        // Sort button/select styling
        .MuiFormControl-root {
          .MuiSelect-select {
            color: var(--marketplace-text-primary);
            background: transparent;
            border-color: var(--marketplace-text-primary);

            &:hover {
              background: var(--marketplace-text-primary);
              color: var(--marketplace-bg-secondary);
            }
          }

          .MuiOutlinedInput-notchedOutline {
            border-color: var(--marketplace-text-primary);
          }

          .MuiOutlinedInput-root {
            &:hover {
              .MuiOutlinedInput-notchedOutline {
                border-color: var(--marketplace-text-primary);
              }

              background: var(--marketplace-text-primary);

              .MuiSelect-select {
                color: var(--marketplace-bg-secondary);
              }
            }
          }
        }
      }
    }

    &__drawer {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);

      &__vendor-name {
        color: var(--marketplace-text-secondary);
      }

      &__data-product-name {
        color: var(--marketplace-link-color);
      }

      &__data-product-description {
        color: var(--marketplace-text-secondary);
      }

      &__table-card {
        background: var(--marketplace-bg-tertiary);
        border: 1px solid var(--marketplace-border-color);

        &__content {
          background: var(--marketplace-bg-tertiary);
          color: var(--marketplace-text-primary);
        }
      }
    }
  }

  .lakehouse-search-results {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);
  }

  // Lakehouse Home
  .marketplace-lakehouse-home {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__search-container {
      background: var(--marketplace-bg-primary);
    }

    &__carousel-title {
      color: var(--marketplace-text-primary);
      border-left-color: var(--marketplace-link-color);

      &:hover {
        color: var(--marketplace-text-primary);
        border-left-color: var(--marketplace-link-hover-color);
      }
    }

    &__carousel {
      .swiper-pagination-bullet {
        background: var(--color-dark-grey-400);
        opacity: 0.4;
      }

      .swiper-pagination-bullet-active {
        background: var(--marketplace-link-color);
        opacity: 1;
      }
    }

    &__search-bar {
      &__input {
        color: var(--marketplace-text-primary);
      }
    }
  }

  .legend-marketplace-subscriptions-content {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__search-section {
      background: var(--marketplace-bg-primary);
    }

    &__user-search {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
    }

    &__subscription-grid {
      background: var(--marketplace-bg-primary);
    }
  }

  // Not Found
  .not-found-screen {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__title {
      color: var(--marketplace-text-primary);
    }

    &__message {
      color: var(--marketplace-text-muted);
    }
  }

  // MUI Overrides
  .MuiButton-outlined {
    border-color: var(--marketplace-border-color);

    &:hover {
      border-color: var(--marketplace-link-color);
      background: var(--marketplace-bg-tertiary);
      color: var(--marketplace-text-primary);
    }
  }

  .MuiButton-contained {
    background: var(--marketplace-link-color);
    color: var(--marketplace-text-primary);

    &:hover {
      background: var(--marketplace-link-hover-color);
    }
  }

  .MuiChip-root {
    background: var(--marketplace-bg-elevated);
    color: var(--marketplace-text-primary);
    border-color: var(--marketplace-border-color);
  }

  .MuiAccordion-root {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);
    color: var(--marketplace-text-primary);

    &::before {
      background-color: var(--marketplace-border-color);
    }
  }

  .MuiAccordionSummary-root {
    background: var(--marketplace-bg-secondary);

    &:hover {
      background: var(--marketplace-bg-tertiary);
    }
  }

  .MuiAccordionDetails-root {
    background: var(--marketplace-bg-secondary);
    border-top: 1px solid var(--marketplace-border-color);
  }

  .MuiTextField-root {
    .MuiInputBase-root {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border: 2px solid var(--marketplace-text-primary);

      &:hover {
        border-color: var(--marketplace-link-color);
      }

      &.Mui-focused {
        border-color: var(--marketplace-link-color);
        box-shadow: 0 0 0 3px rgb(115 153 198 / 20%);
      }
    }

    input {
      color: var(--marketplace-text-primary);

      &::placeholder {
        color: var(--marketplace-text-muted);
      }
    }

    .MuiInputLabel-root {
      color: var(--marketplace-text-primary);

      &.Mui-focused {
        color: var(--marketplace-link-color);
      }

      &.MuiInputLabel-shrink {
        color: var(--marketplace-text-primary);
      }
    }

    .MuiOutlinedInput-notchedOutline {
      border-color: var(--marketplace-border-color);
    }

    .MuiOutlinedInput-root {
      &:hover .MuiOutlinedInput-notchedOutline {
        border-color: var(--marketplace-link-color);
      }

      &.Mui-focused .MuiOutlinedInput-notchedOutline {
        border-color: var(--marketplace-link-color);
      }
    }
  }

  .MuiTooltip-tooltip {
    background: var(--marketplace-bg-elevated);
    color: var(--marketplace-text-primary);
    border: 1px solid var(--marketplace-border-color);
  }

  // Marketplace specific emphasis
  .marketplace-lakehouse-text__emphasis {
    color: var(--marketplace-link-color);
  }

  // Progress Tracker
  .legend-marketplace-progress-tracker {
    background: var(--marketplace-bg-secondary);

    &__step-label {
      color: var(--marketplace-text-primary);
    }

    &__step-details {
      background: var(--marketplace-bg-tertiary);
      border: 1px solid var(--marketplace-border-color);
    }

    &__step-detail {
      color: var(--marketplace-text-secondary);
    }
  }

  // Notification
  .notification {
    &__content {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
    }

    &__message__content {
      &:active {
        background: var(--marketplace-bg-tertiary);
      }
    }

    &__message__content__icon {
      &--info {
        color: var(--marketplace-link-color);
      }

      &--error {
        color: var(--color-dark-red-50);
      }

      &--warning {
        color: var(--color-dark-yellow-40);
      }

      &--success {
        color: var(--color-dark-green-50);
      }
    }

    &__action {
      color: var(--marketplace-text-muted);

      &:hover {
        color: var(--marketplace-text-primary);
      }
    }
  }

  // Radio Selector
  .legend-marketplace-radio-group {
    .legend-marketplace-radio-button {
      color: var(--marketplace-text-primary);
      background-color: var(--marketplace-bg-secondary);
      border: 1px solid var(--marketplace-border-color);

      &:hover {
        background-color: var(--marketplace-bg-tertiary);
      }

      &__selected {
        background-color: var(--marketplace-link-color);
        color: var(--marketplace-text-primary);
      }
    }
  }

  // Data Product Viewer
  .data-product__viewer {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__header {
      &__title {
        color: var(--marketplace-link-color);
      }

      &__type__version--snapshot {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
      }
    }

    &__content {
      &__terminal {
        &__access-section {
          span {
            color: var(--marketplace-text-primary);
          }
        }

        &__access-table {
          &--cell {
            color: var(--marketplace-text-primary);

            &--entity {
              color: var(--marketplace-link-color);
            }
          }

          &--row {
            background-color: var(--marketplace-bg-secondary);
            border-bottom: 1px solid var(--marketplace-border-color);

            &:hover {
              background-color: var(--marketplace-bg-tertiary);
            }
          }
        }
      }
    }

    &__panel {
      &__header {
        border-bottom-color: var(--marketplace-link-color);
        color: var(--marketplace-link-color);
      }
    }

    &__wiki {
      &__section {
        &__header {
          color: var(--marketplace-link-color);
          border-bottom-color: var(--marketplace-link-color);

          &__subtitle {
            color: var(--marketplace-link-color);
          }
        }
      }

      &__expert-contact {
        &__info {
          &__id {
            color: var(--marketplace-link-color);
          }
        }
      }
    }

    &__wiki__terminal__section__pricing {
      border-color: var(--marketplace-link-color);
      color: var(--marketplace-link-color);
    }

    &__tabs-bar {
      background: var(--marketplace-bg-secondary);
      border-top-color: var(--marketplace-border-color);
    }

    &__tabs {
      background: var(--marketplace-bg-secondary);
      border-bottom-color: var(--marketplace-border-color);

      .MuiTabs-indicator {
        background-color: var(--marketplace-link-color);
      }
    }

    &__tab {
      border-right-color: var(--marketplace-border-color);
      color: var(--marketplace-text-muted);

      &--selected {
        color: var(--marketplace-link-color);
      }
    }

    // Access Group Item Styles
    &__access-group {
      &__item {
        &__header {
          &__title {
            color: var(--marketplace-text-secondary);
          }

          &__type {
            background: var(--marketplace-bg-elevated);
            color: var(--marketplace-text-primary);
          }
        }

        &__description {
          color: var(--marketplace-text-primary);
        }

        &__content {
          &__tab__header {
            border-bottom-color: var(--marketplace-border-color);
            border-top-color: var(--marketplace-border-color);
          }

          &__tab {
            color: var(--marketplace-text-muted);

            &:hover {
              color: var(--marketplace-text-secondary);

              .data-product__viewer__access-group__item__content__tab__icon
                svg {
                color: var(--marketplace-text-secondary);
              }
            }

            &--active {
              color: var(--marketplace-link-color);

              .data-product__viewer__access-group__item__content__tab__label {
                color: var(--marketplace-link-color);
              }

              .data-product__viewer__access-group__item__content__tab__icon
                svg {
                color: var(--marketplace-link-color);
              }
            }

            & + & {
              border-left-color: var(--marketplace-border-color);
            }

            &__icon svg {
              color: var(--marketplace-text-muted);
            }

            &__label {
              color: var(--marketplace-text-muted);
            }
          }

          &__action-tab-group {
            border-left-color: var(--marketplace-border-color);
          }

          &__tab__content {
            background: var(--marketplace-bg-primary);
            color: var(--marketplace-text-primary);
          }
        }
      }
    }

    // Access Point Styles
    &__access-point {
      &__name {
        color: var(--marketplace-text-primary);
      }

      &__description {
        color: var(--marketplace-text-secondary);
      }
    }

    // More Info Section
    &__more-info {
      &__columns-grid {
        background: var(--marketplace-bg-primary);

        // ag-Grid dark theme overrides
        &.ag-theme-balham,
        &.ag-theme-balham-dark {
          --ag-background-color: var(--marketplace-bg-secondary);
          --ag-foreground-color: var(--marketplace-text-primary);
          --ag-header-background-color: var(--marketplace-bg-elevated);
          --ag-header-foreground-color: var(--marketplace-text-primary);
          --ag-border-color: var(--marketplace-border-color);
          --ag-row-hover-color: var(--marketplace-bg-tertiary);

          .ag-root-wrapper {
            background: var(--marketplace-bg-secondary);
            color: var(--marketplace-text-primary);
            border-color: var(--marketplace-border-color);
          }

          .ag-header {
            background: var(--marketplace-bg-elevated);
            color: var(--marketplace-text-primary);
            border-bottom-color: var(--marketplace-border-color);
          }

          .ag-header-cell {
            background: var(--marketplace-bg-elevated);
            color: var(--marketplace-text-primary);
          }

          .ag-row {
            background: var(--marketplace-bg-secondary);
            color: var(--marketplace-text-primary);
            border-bottom-color: var(--marketplace-border-color);
          }

          .ag-row-hover {
            background: var(--marketplace-bg-tertiary);
          }

          .ag-cell {
            color: var(--marketplace-text-primary);
          }
        }
      }

      &__grammar {
        background: var(--marketplace-bg-secondary);

        // CodeEditor dark theme
        .monaco-editor,
        .monaco-editor .monaco-editor-background,
        .monaco-editor .inputarea.ime-input {
          background: var(--marketplace-bg-secondary) !important;
          color: var(--marketplace-text-primary) !important;
        }

        .monaco-editor .view-lines {
          color: var(--marketplace-text-primary) !important;
        }

        .monaco-editor .line-numbers {
          color: var(--marketplace-text-muted) !important;
        }

        .mtk1 {
          color: var(--marketplace-text-primary) !important;
        }

        .monaco-scrollable-element > .scrollbar > .slider {
          background: var(--marketplace-border-light-color) !important;
        }
      }
    }

    // Grid styles
    &__grid {
      &.ag-theme-balham,
      &.ag-theme-balham-dark {
        --ag-background-color: var(--marketplace-bg-secondary);
        --ag-foreground-color: var(--marketplace-text-primary);
        --ag-header-background-color: var(--marketplace-bg-elevated);
        --ag-header-foreground-color: var(--marketplace-text-primary);
        --ag-border-color: var(--marketplace-border-color);
        --ag-row-hover-color: var(--marketplace-bg-tertiary);

        background: var(--marketplace-bg-secondary);

        .ag-root-wrapper {
          background: var(--marketplace-bg-secondary);
          color: var(--marketplace-text-primary);
          border-color: var(--marketplace-border-color);
        }

        .ag-header {
          background: var(--marketplace-bg-elevated);
          color: var(--marketplace-text-primary);
        }

        .ag-row {
          background: var(--marketplace-bg-secondary);
          color: var(--marketplace-text-primary);
          border-bottom-color: var(--marketplace-border-color);
        }

        .ag-cell {
          color: var(--marketplace-text-primary);
        }
      }

      &--empty {
        background: var(--marketplace-bg-secondary);
        color: var(--marketplace-text-muted);
      }

      &__empty-cell {
        color: var(--marketplace-text-muted);
      }
    }

    // TDS Query styles
    &__tds__query {
      border-color: var(--marketplace-border-color);
      background: var(--marketplace-bg-secondary);
    }

    &__tds__placeholder-panel {
      border-color: var(--marketplace-border-color);
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
    }

    &__tds__query-text {
      background: var(--marketplace-bg-secondary);

      &__content {
        .monaco-editor,
        .monaco-editor .monaco-editor-background {
          background: var(--marketplace-bg-secondary) !important;
        }

        .monaco-editor .view-lines {
          color: var(--marketplace-text-primary) !important;
        }
      }

      &__action {
        svg {
          color: var(--marketplace-text-muted);
        }

        &:hover svg {
          color: var(--marketplace-text-primary);
        }
      }
    }
  }

  .product-header-tabs {
    &__tab {
      color: var(--marketplace-text-muted);

      &:hover {
        color: var(--marketplace-link-color);
      }

      &--active {
        color: var(--marketplace-link-color);
        border-bottom-color: var(--marketplace-link-color);
      }
    }
  }

  .data-space__terminal__header__product-name {
    color: var(--marketplace-link-color);
  }

  .data-space__divider {
    border-color: var(--marketplace-border-color);
    background-color: var(--marketplace-border-color);
  }

  // Models Documentation Viewer
  .models-documentation__viewer__wiki {
    &__section {
      &__header {
        border-bottom-color: var(--marketplace-link-color);
        color: var(--marketplace-link-color);

        &__anchor {
          svg {
            color: var(--marketplace-text-muted);
          }

          &:hover svg {
            color: var(--marketplace-text-secondary);
          }
        }

        &__documentation {
          color: var(--marketplace-link-color);
        }
      }
    }

    &__placeholder {
      color: var(--marketplace-text-muted);
    }
  }

  .models-documentation__viewer__grid {
    &--empty {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-muted);
    }

    &__empty-cell {
      color: var(--marketplace-text-muted);
    }

    // Override ag-Grid row hover color for models documentation
    &.ag-theme-balham-dark {
      --ag-row-hover-color: var(--marketplace-bg-tertiary);
    }
  }

  .models-documentation__grid {
    &__cell {
      &__label__icon {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
      }

      &__label__derived-property-badge {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-link-color);
      }

      &__label__milestoning-badge {
        svg {
          color: var(--marketplace-link-color);
        }
      }

      &__action {
        color: var(--marketplace-text-muted);

        &:hover {
          color: var(--marketplace-text-primary);
        }
      }
    }

    &__element-row {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);

      // Override yellow hover color with light grey
      --ag-row-hover-color: var(--marketplace-bg-tertiary);
    }
  }

  .models-documentation__filter {
    &__toggler {
      border-color: var(--marketplace-border-color);
      color: var(--marketplace-text-muted);

      &:hover {
        color: var(--marketplace-text-primary);
      }

      &__icon {
        border-left-color: var(--marketplace-border-color);
      }
    }

    &__panel {
      border-color: var(--marketplace-border-color);
      color: var(--marketplace-text-primary);
      background: var(--marketplace-bg-secondary);
    }

    &__group {
      & + & {
        border-top-color: var(--marketplace-border-color);
      }
    }

    &__group__header__label {
      color: var(--marketplace-text-primary);
    }

    &__group__header__reset {
      color: var(--marketplace-link-color);

      &:hover {
        color: var(--marketplace-brand-secondary-color);
      }

      &[disabled],
      &[disabled]:hover {
        color: var(--marketplace-text-muted);
      }
    }
  }

  .models-documentation__filter__tree {
    &__node__container {
      &:hover {
        background: var(--marketplace-bg-tertiary);
      }
    }

    &__node__type-icon {
      color: var(--marketplace-text-primary);

      &--package {
        color: var(--marketplace-text-muted);
      }
    }

    &__node__checker {
      svg {
        color: var(--marketplace-text-muted);
      }

      &:hover svg {
        color: var(--marketplace-text-primary);
      }
    }

    &__node__expand-icon {
      svg {
        color: var(--marketplace-text-primary);
      }
    }

    &__node__label {
      color: var(--marketplace-text-primary);
    }

    &__node__count {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
    }
  }

  .models-documentation__search {
    &__input {
      border-color: var(--marketplace-border-color);
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);

      &__search__icon {
        svg {
          color: var(--marketplace-text-primary);
        }
      }

      &__clear-btn {
        svg {
          color: var(--marketplace-text-muted);
        }

        &:hover svg {
          color: var(--marketplace-text-primary);
        }
      }

      &__config__trigger {
        svg {
          color: var(--marketplace-text-muted);
        }

        &--toggled svg,
        &:hover svg {
          color: var(--marketplace-text-primary);
        }

        &--active svg,
        &--active:hover svg {
          color: var(--marketplace-link-color);
        }
      }
    }
  }

  .models-documentation__tooltip {
    background: var(--marketplace-bg-elevated) !important;

    &__item__label {
      color: var(--marketplace-text-muted);
    }

    &__item__value {
      color: var(--marketplace-text-primary);
    }
  }

  // Data Space Viewer
  .data-space__viewer {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__header {
      &__title {
        background: var(--marketplace-link-color);

        &__label {
          color: var(--marketplace-text-primary);
        }

        &__verified-badge {
          svg {
            color: var(--marketplace-text-primary);
          }
        }
      }

      &__actions {
        background: var(--marketplace-bg-secondary);
        border-color: var(--marketplace-border-color);
      }

      &__execution-context-selector {
        &__trigger {
          &__icon {
            border-right-color: var(--marketplace-border-color);

            svg {
              color: var(--marketplace-text-muted);
            }
          }

          &__label {
            color: var(--marketplace-text-primary);
          }

          &__dropdown-icon {
            svg {
              color: var(--marketplace-text-muted);
            }
          }
        }

        &__option--active {
          background: var(--marketplace-bg-tertiary);
        }
      }

      &__actions-selector {
        border-left-color: var(--marketplace-border-color);

        svg {
          color: var(--marketplace-text-muted);
        }

        &:hover svg {
          color: var(--marketplace-text-primary);
        }
      }
    }
  }

  .data-space__viewer__panel {
    &__header {
      border-bottom-color: var(--marketplace-link-color);
      color: var(--marketplace-link-color);
    }

    &__content__placeholder {
      color: var(--marketplace-text-muted);

      svg {
        color: var(--marketplace-link-color);
      }
    }
  }

  .data-space__viewer__grid {
    &--empty {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-muted);
    }

    &__empty-cell {
      color: var(--marketplace-text-muted);
    }
  }

  .data-space__viewer__scroller {
    background: var(--marketplace-link-color);

    &__percentage {
      background: var(--marketplace-brand-secondary-color);
      color: var(--marketplace-text-primary);
    }
  }

  .data-space__viewer__activity-bar {
    background: var(--marketplace-bg-secondary);

    &__menu {
      border-bottom-color: var(--marketplace-border-color);
    }

    &__menu-item {
      color: var(--marketplace-text-muted);
    }

    &__item {
      color: var(--marketplace-text-muted);

      &:hover {
        color: var(--marketplace-text-primary);
      }

      &--active {
        color: var(--marketplace-text-primary);
      }
    }

    &__divider {
      background: var(--marketplace-border-color);
    }
  }

  .data-space__viewer__wiki {
    &__section {
      &__header {
        border-bottom-color: var(--marketplace-link-color);
        color: var(--marketplace-link-color);

        &__anchor {
          svg {
            color: var(--marketplace-text-muted);
          }

          &:hover svg {
            color: var(--marketplace-text-secondary);
          }
        }

        &__documentation {
          color: var(--marketplace-link-color);
        }
      }
    }

    &__placeholder {
      color: var(--marketplace-text-muted);
    }
  }

  .data-space__viewer__diagram-viewer {
    &__header__navigation__pager {
      border-left-color: var(--marketplace-border-color);
    }

    &__header__group {
      &__separator {
        border-color: var(--marketplace-border-color);
      }
    }

    &__header__dropdown {
      border-color: var(--marketplace-border-color);

      &__label {
        color: var(--marketplace-text-muted);
      }

      &__trigger {
        svg {
          color: var(--marketplace-text-muted);
        }
      }
    }

    &__header__tool {
      &--active {
        background: var(--marketplace-bg-elevated);
        border-color: var(--marketplace-link-color);
      }

      &:hover {
        svg {
          color: var(--marketplace-text-primary);
        }
      }

      svg {
        color: var(--marketplace-text-primary);
      }
    }

    &__description {
      background: var(--marketplace-bg-secondary);

      &__close-btn,
      &__expand-btn {
        svg {
          color: var(--marketplace-text-muted);
        }

        &:hover svg {
          color: var(--marketplace-text-primary);
        }
      }

      &__title {
        color: var(--marketplace-text-primary);
      }

      &__content__placeholder {
        color: var(--marketplace-text-muted);
      }
    }

    &__carousel {
      .diagram-canvas {
        border-color: var(--marketplace-border-color);
      }

      &__frame {
        &__navigator {
          svg {
            color: var(--marketplace-text-primary);
          }

          &:hover svg {
            color: var(--marketplace-text-primary);
          }

          &[disabled] {
            svg,
            &:hover svg {
              color: var(--marketplace-text-muted);
            }
          }
        }

        &__indicators {
          color: var(--marketplace-text-primary);
        }

        &__indicators__notch {
          background: var(--marketplace-bg-secondary);
        }

        &__indicator {
          svg {
            color: var(--marketplace-text-muted);
          }
        }

        &__indicator--active svg {
          color: var(--marketplace-link-color);
        }
      }
    }
  }

  .data-space__viewer__quickstart {
    &__item__header__title {
      color: var(--marketplace-text-primary);
    }

    &__item__header__type {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
    }

    &__item__header__anchor {
      svg {
        color: var(--marketplace-text-muted);
      }

      &:hover svg {
        color: var(--marketplace-text-secondary);
      }
    }

    &__item__content {
      &__tab__header {
        border-bottom-color: var(--marketplace-border-color);
        border-top-color: var(--marketplace-border-color);
      }

      &__tab {
        color: var(--marketplace-text-muted);

        & + & {
          border-left-color: var(--marketplace-border-color);
        }

        &__label {
          color: var(--marketplace-text-primary);
        }

        &:hover &__tab__label {
          color: var(--marketplace-text-primary);
        }

        &:hover &__tab__icon {
          svg {
            color: var(--marketplace-text-primary);
          }
        }

        &--active:hover &__tab__label,
        &--active &__tab__label {
          color: var(--marketplace-link-color);
        }

        &--active:hover &__tab__icon,
        &--active &__tab__icon {
          svg {
            color: var(--marketplace-link-color);
          }
        }
      }

      &__action-tab-group {
        border-left-color: var(--marketplace-border-color);
      }
    }

    &__tds__query {
      border-color: var(--marketplace-border-color);
    }

    &__tds__placeholder-panel {
      border-color: var(--marketplace-border-color);
    }

    &__tds__query-text {
      &__action {
        svg {
          color: var(--marketplace-text-muted);
        }

        &:hover svg {
          color: var(--marketplace-text-primary);
        }
      }
    }
  }

  .data-space__viewer__execution-context {
    &__context-icon {
      color: var(--marketplace-link-color);
    }

    &__entry {
      &__icon {
        background: var(--marketplace-bg-elevated);

        svg {
          color: var(--marketplace-text-primary);
        }
      }

      &__content {
        border-color: var(--marketplace-border-color);
        color: var(--marketplace-text-primary);
        background: var(--marketplace-bg-elevated);
        border-left-color: var(--marketplace-border-color);

        &__dropdown {
          &__option__tag {
            background: var(--marketplace-link-color);
            color: var(--marketplace-text-primary);
          }
        }

        .selector-input--dark__control,
        .selector-input--dark__control:hover {
          border-color: var(--marketplace-border-color);
        }
      }
    }
  }

  .data-space__viewer__info {
    &__project-info__label {
      background: var(--marketplace-link-color);
      color: var(--marketplace-text-primary);
    }

    &__project-info__value {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-link-color);
    }

    &__project-info__link {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-left-color: var(--marketplace-border-color);
    }

    &__section__title {
      color: var(--marketplace-text-primary);
    }

    &__tagged-value__tag {
      background: var(--marketplace-link-color);
      color: var(--marketplace-text-primary);
    }

    &__tagged-value__value {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
    }

    &__steoreotype {
      background: var(--marketplace-link-color);
      color: var(--marketplace-text-primary);
    }

    &__section__placeholder {
      color: var(--marketplace-text-muted);
      border-color: var(--marketplace-border-color);
    }
  }

  .data-space__viewer__support {
    &__entry {
      &__icon {
        background: var(--marketplace-bg-elevated);

        svg {
          color: var(--marketplace-text-primary);
        }
      }

      &__content {
        border-color: var(--marketplace-border-color);
        color: var(--marketplace-text-primary);
        background: var(--marketplace-bg-elevated);
        border-left-color: var(--marketplace-border-color);
      }
    }
  }

  .data-space__viewer__tooltip {
    background: var(--marketplace-bg-elevated) !important;

    &__item__label {
      color: var(--marketplace-text-muted);
    }

    &__item__value {
      color: var(--marketplace-text-primary);
    }
  }

  // Lakehouse Entitlements
  .marketplace-lakehouse-entitlements-dashboard {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    .MuiTabs-root {
      border-bottom: 1px solid var(--marketplace-border-color);

      .MuiTabs-indicator {
        background-color: var(--marketplace-link-color);
      }
    }

    .MuiTab-root {
      color: var(--marketplace-text-muted);

      &.Mui-selected {
        color: var(--marketplace-link-color);
      }

      .MuiTypography-root {
        color: inherit;
      }
    }
  }

  .marketplace-lakehouse-entitlements {
    &__pending-tasks,
    &__pending-contracts,
    &__completed-contracts {
      background: var(--marketplace-bg-primary);
      color: var(--marketplace-text-primary);
    }

    &__grid {
      &__taskid-cell {
        color: var(--marketplace-link-color);
        text-decoration: underline;

        &:hover {
          color: var(--marketplace-link-hover-color);
        }
      }
    }
  }

  .marketplace-lakehouse-entitlements-grid-viewer {
    background: var(--marketplace-bg-primary);
    color: var(--marketplace-text-primary);

    &__item-clickable-text {
      color: var(--marketplace-link-color);
      text-decoration: underline;

      &:hover {
        color: var(--marketplace-link-hover-color);
      }
    }

    &__status--success {
      color: var(--color-dark-green-50);
    }

    &__status--in-progress {
      color: var(--marketplace-link-color);
    }

    &__status--error {
      color: var(--color-dark-red-50);
    }
  }

  .marketplace-lakehouse-entitlements__data-contract-creator {
    &__enterprise-apg-notice {
      color: var(--marketplace-text-muted);
    }
  }

  .marketplace-lakehouse-entitlements__data-contract-viewer {
    &__content {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
    }

    &__metadata {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
    }

    &__user-list {
      background: var(--marketplace-bg-elevated);

      &__container {
        background: var(--marketplace-bg-secondary);
      }
    }

    &__task-approval-view {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);

      &__timestamp {
        color: var(--marketplace-text-muted);
      }
    }

    &__timeline {
      &__content {
        color: var(--marketplace-text-primary);
      }

      // MUI Timeline icons
      .MuiTimelineDot-root {
        svg {
          color: var(--marketplace-text-primary);
        }
      }

      .MuiTimelineConnector-root {
        background-color: var(--marketplace-border-color);
      }

      // IconButtons inside timeline (copy, share, escalate buttons)
      .MuiIconButton-root {
        color: var(--marketplace-text-primary) !important;

        svg {
          color: var(--marketplace-text-primary);
        }

        &:hover {
          background: var(--marketplace-bg-tertiary);
        }
      }
    }

    &__footer {
      color: var(--marketplace-text-muted);

      // Copy button in footer
      .MuiIconButton-root {
        color: var(--marketplace-text-primary) !important;

        svg {
          color: var(--marketplace-text-primary);
        }

        &:hover {
          background: var(--marketplace-bg-tertiary);
        }
      }
    }
  }

  // Close/Cancel button at top-right of data contract dialog
  .marketplace-dialog-close-btn {
    color: var(--marketplace-text-primary) !important;

    svg {
      color: var(--marketplace-text-primary) !important;
    }

    &:hover {
      background: var(--marketplace-bg-tertiary);
    }
  }

  // Target the specific MUI IconButton class
  .MuiButtonBase-root.MuiIconButton-root {
    &.marketplace-dialog-close-btn {
      color: var(--marketplace-text-primary) !important;

      svg {
        color: var(--marketplace-text-primary) !important;
      }
    }
  }

  .marketplace-lakehouse-entitlements__data-contract-approval {
    &__success {
      background: rgb(106 153 85 / 20%);
      color: var(--color-dark-green-50);
      border: 1px solid var(--color-dark-green-50);
    }

    &__error {
      background: rgb(250 83 67 / 20%);
      color: var(--color-dark-red-50);
      border: 1px solid var(--color-dark-red-50);

      &__content {
        color: var(--marketplace-text-primary);
      }
    }
  }

  // Subscriptions Viewer ag-Grid
  .marketplace-lakehouse-subscriptions__subscriptions-viewer__grid {
    &.ag-theme-balham,
    &.ag-theme-balham-dark {
      --ag-background-color: var(--marketplace-bg-secondary);
      --ag-foreground-color: var(--marketplace-text-primary);
      --ag-header-background-color: var(--marketplace-bg-elevated);
      --ag-header-foreground-color: var(--marketplace-text-primary);
      --ag-border-color: var(--marketplace-border-color);
      --ag-row-hover-color: var(--marketplace-bg-tertiary);

      background: var(--marketplace-bg-secondary);

      .ag-root-wrapper {
        background: var(--marketplace-bg-secondary);
        color: var(--marketplace-text-primary);
        border-color: var(--marketplace-border-color);
      }

      .ag-header {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
        border-bottom-color: var(--marketplace-border-color);
      }

      .ag-header-cell {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
        border-right-color: var(--marketplace-border-color);
      }

      .ag-row {
        background: var(--marketplace-bg-secondary);
        color: var(--marketplace-text-primary);
        border-bottom-color: var(--marketplace-border-color);
      }

      .ag-row-hover {
        background: var(--marketplace-bg-tertiary);
      }

      .ag-cell {
        color: var(--marketplace-text-primary);
        border-right-color: var(--marketplace-border-color);
      }

      .ag-paging-panel {
        background: var(--marketplace-bg-elevated);
        color: var(--marketplace-text-primary);
        border-top-color: var(--marketplace-border-color);
      }
    }
  }

  // Global ag-Grid dark theme (catches any remaining ag-theme-balham instances)
  .ag-theme-balham,
  .ag-theme-balham-dark {
    --ag-background-color: var(--marketplace-bg-secondary);
    --ag-foreground-color: var(--marketplace-text-primary);
    --ag-header-background-color: var(--marketplace-bg-elevated);
    --ag-header-foreground-color: var(--marketplace-text-primary);
    --ag-border-color: var(--marketplace-border-color);
    --ag-row-hover-color: var(--marketplace-bg-tertiary);
    --ag-selected-row-background-color: var(--marketplace-bg-tertiary);

    background: var(--marketplace-bg-secondary);
    color: var(--marketplace-text-primary);

    .ag-root-wrapper {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border-color: var(--marketplace-border-color);
    }

    .ag-header {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-bottom-color: var(--marketplace-border-color);
    }

    .ag-header-cell {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-right-color: var(--marketplace-border-color);
    }

    .ag-row {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border-bottom-color: var(--marketplace-border-color);
    }

    .ag-row-odd {
      background: var(--marketplace-bg-secondary);
    }

    .ag-row-hover {
      background: var(--marketplace-bg-tertiary) !important;
    }

    .ag-cell {
      color: var(--marketplace-text-primary);
      border-right-color: var(--marketplace-border-color);
    }

    .ag-paging-panel {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-top-color: var(--marketplace-border-color);
    }

    .ag-paging-button {
      color: var(--marketplace-text-primary);
    }

    .ag-paging-description {
      color: var(--marketplace-text-primary);
    }

    .ag-icon {
      color: var(--marketplace-text-primary);
    }
  }

  // Global Monaco Editor dark mode styling
  .monaco-editor {
    background: var(--marketplace-bg-secondary) !important;
    color: var(--marketplace-text-primary) !important;

    .monaco-editor-background {
      background: var(--marketplace-bg-secondary) !important;
    }

    .inputarea.ime-input {
      background: var(--marketplace-bg-secondary) !important;
      color: var(--marketplace-text-primary) !important;
    }

    // Main editing area
    .view-lines {
      color: var(--marketplace-text-primary) !important;
    }

    .view-line {
      color: var(--marketplace-text-primary) !important;
    }

    // Line numbers
    .line-numbers {
      color: var(--marketplace-text-muted) !important;
    }

    .margin,
    .margin-view-overlays {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Gutter and decorations
    .glyph-margin {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Scrollbars
    .monaco-scrollable-element > .scrollbar {
      background: transparent !important;

      > .slider {
        background: var(--marketplace-border-light-color) !important;

        &:hover {
          background: var(--marketplace-border-color) !important;
        }
      }
    }

    // Overflow guard (main container)
    .overflow-guard {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Minimap
    .minimap {
      background: var(--marketplace-bg-secondary) !important;
    }

    .minimap-slider {
      background: rgb(255 255 255 / 10%) !important;
    }

    // Overview ruler
    .decorationsOverviewRuler {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Lines content
    .lines-content {
      background: var(--marketplace-bg-secondary) !important;
    }

    // View overlays
    .view-overlays {
      background: transparent !important;
    }

    // Tokens
    .mtk1 {
      color: var(--marketplace-text-primary) !important;
    }

    // Current line highlight
    .current-line {
      background: rgb(255 255 255 / 5%) !important;
      border: none !important;
    }

    // Selection
    .selected-text {
      background: rgb(115 153 198 / 30%) !important;
    }

    // Cursors
    .cursor {
      background: var(--marketplace-text-primary) !important;
      border-color: var(--marketplace-text-primary) !important;
    }
  }
}
