/**
 * Copyright (c) 2020-present, Goldman Sachs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.theme__hc-dark {
  // Override theme-agnostic variables for dark mode
  --marketplace-bg-primary: var(--marketplace-bg-primary);
  --marketplace-bg-secondary: var(--marketplace-bg-secondary);
  --marketplace-bg-elevated: var(--marketplace-bg-elevated);
  --marketplace-text-primary: var(--marketplace-text-primary);
  --marketplace-text-secondary: var(--marketplace-text-secondary);
  --marketplace-text-muted: var(--marketplace-text-muted);
  --marketplace-link-color: var(--marketplace-link-color);
  --marketplace-info-bg: var(--marketplace-bg-elevated);
  --marketplace-info-text: var(--marketplace-text-primary);

  // Search chip colors for dark mode
  --color-search-chip-source-bg: rgb(115 153 198 / 20%);
  --color-search-chip-source-text: var(--marketplace-link-color);
  --color-search-chip-license-bg: rgb(115 153 198 / 20%);
  --color-search-chip-license-text: var(--marketplace-link-color);

  ::-webkit-scrollbar-thumb {
    background: var(--marketplace-border-light-color);
    border: 0.2rem solid transparent;
    background-clip: content-box;
    border-radius: 0.4rem;
  }

  ::-webkit-scrollbar-track-piece {
    background: var(--marketplace-bg-secondary);
  }

  // Header

  // Your Orders Page

  // Vendor Data Page

  // MUI Overrides
  .MuiButton-outlined {
    border-color: var(--marketplace-border-color);

    &:hover {
      border-color: var(--marketplace-link-color);
      background: var(--marketplace-bg-tertiary);
      color: var(--marketplace-text-primary);
    }
  }

  .MuiButton-contained {
    background: var(--marketplace-link-color);
    color: var(--marketplace-text-primary);

    &:hover {
      background: var(--marketplace-link-hover-color);
    }
  }

  .MuiChip-root {
    background: var(--marketplace-bg-elevated);
    color: var(--marketplace-text-primary);
    border-color: var(--marketplace-border-color);
  }

  .MuiAccordion-root {
    background: var(--marketplace-bg-secondary);
    border: 1px solid var(--marketplace-border-color);
    color: var(--marketplace-text-primary);

    &::before {
      background-color: var(--marketplace-border-color);
    }
  }

  .MuiAccordionSummary-root {
    background: var(--marketplace-bg-secondary);

    &:hover {
      background: var(--marketplace-bg-tertiary);
    }
  }

  .MuiAccordionDetails-root {
    background: var(--marketplace-bg-secondary);
    border-top: 1px solid var(--marketplace-border-color);
  }

  .MuiTextField-root {
    .MuiInputBase-root {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border: 2px solid var(--marketplace-text-primary);

      &:hover {
        border-color: var(--marketplace-link-color);
      }

      &.Mui-focused {
        border-color: var(--marketplace-link-color);
        box-shadow: 0 0 0 3px rgb(115 153 198 / 20%);
      }
    }

    input {
      color: var(--marketplace-text-primary);

      &::placeholder {
        color: var(--marketplace-text-muted);
      }
    }

    .MuiInputLabel-root {
      color: var(--marketplace-text-primary);

      &.Mui-focused {
        color: var(--marketplace-link-color);
      }

      &.MuiInputLabel-shrink {
        color: var(--marketplace-text-primary);
      }
    }

    .MuiOutlinedInput-notchedOutline {
      border-color: var(--marketplace-border-color);
    }

    .MuiOutlinedInput-root {
      &:hover .MuiOutlinedInput-notchedOutline {
        border-color: var(--marketplace-link-color);
      }

      &.Mui-focused .MuiOutlinedInput-notchedOutline {
        border-color: var(--marketplace-link-color);
      }
    }
  }

  .MuiTooltip-tooltip {
    background: var(--marketplace-bg-elevated);
    color: var(--marketplace-text-primary);
    border: 1px solid var(--marketplace-border-color);
  }

  // Marketplace specific emphasis
  .marketplace-lakehouse-text__emphasis {
    color: var(--marketplace-link-color);
  }

  // ========================================================================
  // MARKETPLACE COMPONENTS - Dark Mode Styles
  // ========================================================================
  // All specific component styles have been moved to their respective files in style/components
  // and updated to use semantic variables.

  // Global ag-Grid dark theme (catches any remaining ag-theme-balham instances)
  .ag-theme-balham,
  .ag-theme-balham-dark {
    --ag-background-color: var(--marketplace-bg-secondary);
    --ag-foreground-color: var(--marketplace-text-primary);
    --ag-header-background-color: var(--marketplace-bg-elevated);
    --ag-header-foreground-color: var(--marketplace-text-primary);
    --ag-border-color: var(--marketplace-border-color);
    --ag-row-hover-color: var(--marketplace-bg-tertiary);
    --ag-selected-row-background-color: var(--marketplace-bg-tertiary);

    background: var(--marketplace-bg-secondary);
    color: var(--marketplace-text-primary);

    .ag-root-wrapper {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border-color: var(--marketplace-border-color);
    }

    .ag-header {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-bottom-color: var(--marketplace-border-color);
    }

    .ag-header-cell {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-right-color: var(--marketplace-border-color);
    }

    .ag-row {
      background: var(--marketplace-bg-secondary);
      color: var(--marketplace-text-primary);
      border-bottom-color: var(--marketplace-border-color);
    }

    .ag-row-odd {
      background: var(--marketplace-bg-secondary);
    }

    .ag-row-hover {
      background: var(--marketplace-bg-tertiary) !important;
    }

    .ag-cell {
      color: var(--marketplace-text-primary);
      border-right-color: var(--marketplace-border-color);
    }

    .ag-paging-panel {
      background: var(--marketplace-bg-elevated);
      color: var(--marketplace-text-primary);
      border-top-color: var(--marketplace-border-color);
    }

    .ag-paging-button {
      color: var(--marketplace-text-primary);
    }

    .ag-paging-description {
      color: var(--marketplace-text-primary);
    }

    .ag-icon {
      color: var(--marketplace-text-primary);
    }
  }

  // Global Monaco Editor dark mode styling
  .monaco-editor {
    background: var(--marketplace-bg-secondary) !important;
    color: var(--marketplace-text-primary) !important;

    .monaco-editor-background {
      background: var(--marketplace-bg-secondary) !important;
    }

    .inputarea.ime-input {
      background: var(--marketplace-bg-secondary) !important;
      color: var(--marketplace-text-primary) !important;
    }

    // Main editing area
    .view-lines {
      color: var(--marketplace-text-primary) !important;
    }

    .view-line {
      color: var(--marketplace-text-primary) !important;
    }

    // Line numbers
    .line-numbers {
      color: var(--marketplace-text-muted) !important;
    }

    .margin,
    .margin-view-overlays {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Gutter and decorations
    .glyph-margin {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Scrollbars
    .monaco-scrollable-element > .scrollbar {
      background: transparent !important;

      > .slider {
        background: var(--marketplace-border-light-color) !important;

        &:hover {
          background: var(--marketplace-border-color) !important;
        }
      }
    }

    // Overflow guard (main container)
    .overflow-guard {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Minimap
    .minimap {
      background: var(--marketplace-bg-secondary) !important;
    }

    .minimap-slider {
      background: rgb(255 255 255 / 10%) !important;
    }

    // Overview ruler
    .decorationsOverviewRuler {
      background: var(--marketplace-bg-secondary) !important;
    }

    // Lines content
    .lines-content {
      background: var(--marketplace-bg-secondary) !important;
    }

    // View overlays
    .view-overlays {
      background: transparent !important;
    }

    // Tokens
    .mtk1 {
      color: var(--marketplace-text-primary) !important;
    }

    // Current line highlight
    .current-line {
      background: rgb(255 255 255 / 5%) !important;
      border: none !important;
    }

    // Selection
    .selected-text {
      background: rgb(115 153 198 / 30%) !important;
    }

    // Cursors
    .cursor {
      background: var(--marketplace-text-primary) !important;
      border-color: var(--marketplace-text-primary) !important;
    }
  }
}
